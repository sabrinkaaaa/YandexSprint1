[device_service_openapi.json](https://github.com/user-attachments/files/21231380/device_service_openapi.json)# Project_template

Это шаблон для решения проектной работы. Структура этого файла повторяет структуру заданий. Заполняйте его по мере работы над решением.

# Задание 1. Анализ и планирование

<aside>

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании и условия задания. Это нормально.

</aside

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могу понижать и повышать температуру в доме онлайн
- Система поддерживает взаимодействие с датчиками и реле определённого типа

**Мониторинг температуры:**

- Пользователи могут отслеживать текущую температура в доме
- Система поддерживает взаимодействие с датчиками и реле определённого типа

### 2. Анализ архитектуры монолитного приложения

Технологии:

Программирование: Приложение написано на Go.

Хранение данных: Используется СУБД PostgreSQL.

Структура:

Архитектура: Монолит — все модули (API, бизнес-логика, доступ к данным) объединены в единую систему.

Обработка запросов: Синхронная, выполняется поочередно.

Особенности:

Масштабирование: Затруднено из-за монолитной архитектуры.

Обновления: Требуется полная остановка сервиса для деплоя изменений.

### 3. Определение доменов и границы контекстов

Опишите здесь домены, которые вы выделили.

1. Домен - редактирование и программирование умного дома
   
	1.1. Поддомен: управление устройствами
   
   Контекст: добавление устройства
   
   Контекст: удаление устройства
      
   	1.2 Поддомен: управление сценариями
   
   Контекст: создание сценария
   
   Контекст: удаление сценария

2. Домен - управление и исполнение сценария умного дома
   
	2.1. Поддомен: исполнение сценария
   
   	2.2. Поддомен: управление единичными приборами
   
3. Домен - Управление платежами
   
	3.1 Поддомен: обработка платежей
   
   Контекст: обработка транзакций
   
   Контекст: ведение журнала транзакций
   
	3.2 Поддомен: управление пользователями
   	
4. Домен - Мониторинг системы
   
	4.1 Поддомен: отслеживание состояния датчиков и приборов
   
   	4.2 Поддомен: отчётность и аналитика


### **4. Проблемы монолитного решения**

- Проблемы с масштабируемостью.
  Монолит сложно масштабировать избирательно. Даже если нагрузка растёт только на один компонент (например, управление умными замками), масштабировать придётся всё приложение целиком.
- Низкая отказоустойчивость.
  Сбой в одной части приложения может привести к сбою всей системы. Например, ошибка в модуле управления температурой может «положить» всю систему.
- Сложное внедрение новых функций.
  Добавление новых функций (например, управления освещением, вентиляцией) становится рискованным, так как может повлиять на уже существующий функционал (например, отопление).
- Сложность интеграции с новыми устройствами и API.
  Пользователь не может самостоятельно подключить устройства — необходим специалист, что не масштабируется.





### 5. Визуализация контекста системы — диаграмма С4

Добавьте сюда диаграмму контекста в модели C4.

Чтобы добавить ссылку в файл Readme.md, нужно использовать синтаксис Markdown. Это делают так:

```markdown
[Ссылка на файл с диаграммой](https://disk.yandex.ru/d/VXbzcXYkLLJGZw)
```

Замените `Текст ссылки` текстом, который хотите использовать для ссылки. Вместо `URL` вставьте адрес, на который должна вести ссылка. Например:

```markdown
[Посетите Яндекс](https://ya.ru/)
```

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

<img width="1126" height="1279" alt="new1" src="https://github.com/user-attachments/assets/02647207-c051-436b-b79c-5fa412115a41" />


**Диаграмма компонентов (Components)**

<img width="877" height="1360" alt="new2" src="https://github.com/user-attachments/assets/a8f8ee71-bcd0-4a18-afad-3ee24cce197d" />


**Диаграмма кода (Code)**

<img width="1045" height="668" alt="new2-_ScenarioService" src="https://github.com/user-attachments/assets/a51fda63-6bcf-4116-8ddc-acfda160d5c2" />


# Задание 3. Разработка ER-диаграммы

Добавьте сюда ER-диаграмму. Она должна отражать ключевые сущности системы, их атрибуты и тип связей между ними.

<img width="369" height="764" alt="new3-ER____" src="https://github.com/user-attachments/assets/f39f6880-2446-4d7f-b769-02b9afc6cde7" />


# Задание 4. Создание и документирование API

### 1. Тип API

Выбран REST API (OpenAPI/Swagger) для синхронного взаимодействия между сервисами. Для реального времени или пуш-уведомлений можно использовать AsyncAPI.

DeviceService - управление устройствами (добавление, статус, команды)
ScenarioService - работа со сценариями автоматизации (создание, запуск, удаление)

### 2. Документация API

Здесь приложите ссылки на документацию API для микросервисов, которые вы спроектировали в первой части проектной работы. Для документирования используйте Swagger/OpenAPI или AsyncAPI.

https://drive.google.com/file/d/1PT71hSO7yiNmtGNARg2-RY8CcxUnCZUA/view?usp=sharing


# Задание 5. Работа с docker и docker-compose

ссылка файлы 5 задания (https://drive.google.com/file/d/1wjuGHBfmDeuGnCvo6-rpnWBApRHVh80M/view?usp=sharing)


